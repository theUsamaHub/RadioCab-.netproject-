@{
    ViewData["Title"] = "Home";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

@section PageStyles {
    <link href="~/css/user/index.css" rel="stylesheet" />
}

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="display-4 fw-bold text-white mb-4">
                        Welcome to <span class="text-warning">RadioCab</span>
                    </h1>
                    <p class="lead text-light mb-4">
                        Your complete directory for Radio Taxi companies and drivers.
                        Connect with reliable transportation services across all major cities.
                    </p>
                    <div class="d-flex gap-3 flex-wrap">
                        <a href="@Url.Action("Companies", "User")" class="btn btn-warning btn-lg">
                            <i class="fas fa-taxi me-2"></i>Find Companies
                        </a>
                        <a href="@Url.Action("Drivers", "User")" class="btn btn-outline-warning btn-lg">
                            <i class="fas fa-user-tie me-2"></i>Find Drivers
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image text-center">
                    <img src="~/Driver/d7.jpg"
                         alt="RadioCab Services" class="img-fluid rounded-3 shadow-lg" />
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section py-5 bg-light">
    <div class="container">
        <div class="row g-4 text-center">
            <div class="col-md-3 col-6">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-building fa-2x text-warning"></i>
                    </div>
                    <h3 class="stat-number fw-bold text-black">@ViewBag.TotalCompanies</h3>
                    <p class="stat-label text-muted">Total Companies</p>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-tie fa-2x text-warning"></i>
                    </div>
                    <h3 class="stat-number fw-bold text-black">@ViewBag.TotalDrivers</h3>
                    <p class="stat-label text-muted">Verified Drivers</p>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-map-marker-alt fa-2x text-warning"></i>
                    </div>
                    <h3 class="stat-number fw-bold text-black">@ViewBag.TotalCities</h3>
                    <p class="stat-label text-muted">Cities Covered</p>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-handshake fa-2x text-warning"></i>
                    </div>
                    <h3 class="stat-number fw-bold text-black">@ViewBag.TotalServices</h3>
                    <p class="stat-label text-muted">Services Offered</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Platform Services Section -->
<section class="platform-services py-5 bg-white">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold text-black">What We Offer</h2>
            <p class="lead text-muted">Comprehensive platform services for everyone</p>
        </div>

        <div class="row g-4">
            @if (ViewBag.PlatformServices != null)
            {
                @foreach (var service in ViewBag.PlatformServices)
                {
                    <div class="col-md-6 col-lg-4">
                        <div class="platform-service-card h-100">
                            <div class="service-icon">
                                <i class="fas fa-check-circle fa-2x text-warning"></i>
                            </div>
                            <div class="service-content">
                                <h4 class="fw-bold text-black">@service.ServiceName</h4>
                                <p class="text-muted">@service.ServiceDescription</p>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-md-6 col-lg-4">
                    <div class="platform-service-card h-100">
                        <div class="service-icon">
                            <i class="fas fa-building fa-2x text-warning"></i>
                        </div>
                        <div class="service-content">
                            <h4 class="fw-bold text-black">Company Listings</h4>
                            <p class="text-muted">Showcase your taxi company to thousands of customers</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="platform-service-card h-100">
                        <div class="service-icon">
                            <i class="fas fa-user-tie fa-2x text-warning"></i>
                        </div>
                        <div class="service-content">
                            <h4 class="fw-bold text-black">Driver Directory</h4>
                            <p class="text-muted">Connect drivers with companies seeking reliable talent</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="platform-service-card h-100">
                        <div class="service-icon">
                            <i class="fas fa-bullhorn fa-2x text-warning"></i>
                        </div>
                        <div class="service-content">
                            <h4 class="fw-bold text-black">Advertising</h4>
                            <p class="text-muted">Promote your services to our extensive user base</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<!-- About Us Section -->
<section class="about-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold text-black">About RadioCab</h2>
            <p class="lead text-muted">Your trusted transportation platform</p>
        </div>

        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="about-image">
                    <img src="https://cdn.pixabay.com/photo/2016/11/21/14/20/automobile-1845650_1280.jpg"
                         alt="About RadioCab" class="img-fluid rounded-3 shadow" />
                </div>
            </div>
            <div class="col-lg-6">
                <div class="about-content">
                    <h3 class="fw-bold text-black mb-4">Complete Radio Taxi Directory</h3>
                    <p class="text-muted mb-4">
                        RadioCab is a comprehensive website directory providing information about Radio Taxi companies
                        and their services across all major cities. We connect companies, drivers, and customers
                        in one seamless platform.
                    </p>

                    <div class="membership-info mb-4">
                        <h5 class="fw-bold text-black mb-3">Membership Types</h5>
                        <div class="row g-3">
                            @if (ViewBag.Memberships != null)
                            {
                                var membershipList = (List<RadioCab.Models.Membership>)ViewBag.Memberships;
                                foreach (var membership in membershipList)
                                {
                                    <div class="col-md-4">
                                        <div class="membership-card
                                                    @(membership.MembershipName.Contains("Premium") ? "bg-warning text-black" :
                                                                                           membership.MembershipName.Contains("Free") ? "bg-dark text-white" :
                                                                                           "bg-light text-black border")
                                                    p-3 rounded">
                                            <h6 class="fw-bold mb-2">@membership.MembershipName</h6>
                                            <p class="small mb-0">@membership.Description</p>
                                        </div>
                                    </div>
                                }
                            }
                            else
                            {
                                <div class="col-md-4">
                                    <div class="membership-card bg-warning text-black p-3 rounded">
                                        <h6 class="fw-bold mb-2">Premium</h6>
                                        <p class="small mb-0">Full features & priority listing</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="membership-card bg-light text-black p-3 rounded border">
                                        <h6 class="fw-bold mb-2">Basic</h6>
                                        <p class="small mb-0">Standard features & listing</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="membership-card bg-dark text-white p-3 rounded">
                                        <h6 class="fw-bold mb-2">Free</h6>
                                        <p class="small mb-0">Basic listing features</p>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>

                    <!-- Dynamic Pricing Display -->
                    <div class="pricing-preview mb-4">
                        <h5 class="fw-bold text-black mb-3">Basic Membership Pricing</h5>
                        <div class="row g-3">
                            @if (ViewBag.CompanyPricing != null && ViewBag.DriverPricing != null)
                            {
                                var companyPrices = (List<RadioCab.Models.PaymentAmount>)ViewBag.CompanyPricing;
                                var driverPrices = (List<RadioCab.Models.PaymentAmount>)ViewBag.DriverPricing;

                                <div class="col-md-6">
                                    <div class="price-card p-3 border rounded">
                                        <h6 class="fw-bold text-black mb-2">
                                            <i class="fas fa-building text-warning me-2"></i>Company Registration
                                        </h6>
                                        <div class="d-flex justify-content-between">
                                            @if (companyPrices.Any(p => p.PaymentType == "Monthly"))
                                            {
                                                var monthly = companyPrices.First(p => p.PaymentType == "Monthly");
                                                <div class="text-center">
                                                    <span class="d-block fw-bold text-warning fs-5">@monthly.Amount.ToString("C")</span>
                                                    <small class="text-muted">Monthly</small>
                                                </div>
                                            }
                                            @if (companyPrices.Any(p => p.PaymentType == "Quarterly"))
                                            {
                                                var quarterly = companyPrices.First(p => p.PaymentType == "Quarterly");
                                                <div class="text-center">
                                                    <span class="d-block fw-bold text-warning fs-5">@quarterly.Amount.ToString("C")</span>
                                                    <small class="text-muted">Quarterly</small>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="price-card p-3 border rounded">
                                        <h6 class="fw-bold text-black mb-2">
                                            <i class="fas fa-user-tie text-warning me-2"></i>Driver Registration
                                        </h6>
                                        <div class="d-flex justify-content-between">
                                            @if (driverPrices.Any(p => p.PaymentType == "Monthly"))
                                            {
                                                var monthly = driverPrices.First(p => p.PaymentType == "Monthly");
                                                <div class="text-center">
                                                    <span class="d-block fw-bold text-warning fs-5">@monthly.Amount.ToString("C")</span>
                                                    <small class="text-muted">Monthly</small>
                                                </div>
                                            }
                                            @if (driverPrices.Any(p => p.PaymentType == "Quarterly"))
                                            {
                                                var quarterly = driverPrices.First(p => p.PaymentType == "Quarterly");
                                                <div class="text-center">
                                                    <span class="d-block fw-bold text-warning fs-5">@quarterly.Amount.ToString("C")</span>
                                                    <small class="text-muted">Quarterly</small>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="col-md-6">
                                    <div class="price-card p-3 border rounded">
                                        <h6 class="fw-bold text-black mb-2">
                                            <i class="fas fa-building text-warning me-2"></i>Company Registration
                                        </h6>
                                        <div class="d-flex justify-content-between">
                                            <div class="text-center">
                                                <span class="d-block fw-bold text-warning fs-5">$4,500.00</span>
                                                <small class="text-muted">Monthly</small>
                                            </div>
                                            <div class="text-center">
                                                <span class="d-block fw-bold text-warning fs-5">$12,000.00</span>
                                                <small class="text-muted">Quarterly</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="price-card p-3 border rounded">
                                        <h6 class="fw-bold text-black mb-2">
                                            <i class="fas fa-user-tie text-warning me-2"></i>Driver Registration
                                        </h6>
                                        <div class="d-flex justify-content-between">
                                            <div class="text-center">
                                                <span class="d-block fw-bold text-warning fs-5">$2,500.00</span>
                                                <small class="text-muted">Monthly</small>
                                            </div>
                                            <div class="text-center">
                                                <span class="d-block fw-bold text-warning fs-5">$6,500.00</span>
                                                <small class="text-muted">Quarterly</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                        <div class="text-center mt-3">
                            <small class="text-muted">
                                <i class="fas fa-info-circle text-warning me-1"></i>
                                All prices are for Basic Membership. Premium plans available.
                            </small>
                        </div>
                    </div>

                    <p class="text-muted mb-4">
                        With RadioCab, companies can advertise their services, drivers can find opportunities,
                        and customers can access reliable transportation - all in one place.
                    </p>

                    <a href="@Url.Action("RegCard", "User")" class="btn btn-warning">
                        <i class="fas fa-user-plus me-2"></i>Join Now
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Pricing Plans Section -->
<section class="pricing-section py-5 bg-white">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold text-black">Pricing Plans</h2>
            <p class="lead text-muted">Choose the plan that fits your needs</p>
        </div>

        <div class="table-responsive">
            <table class="table table-hover table-bordered text-center">
                <thead class="bg-black text-white">
                    <tr>
                        <th scope="col" class="py-3">Service Type</th>
                        <th scope="col" class="py-3">Monthly</th>
                        <th scope="col" class="py-3">Quarterly</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        // Helper function to get price
                        string GetPrice(string entityType, string paymentType)
                        {
                            if (ViewBag.AllPayments != null)
                            {
                                var payments = ViewBag.AllPayments as List<RadioCab.Models.PaymentAmount>;
                                var payment = payments?.FirstOrDefault(p =>
                                p.EntityType == entityType &&
                                p.PaymentType == paymentType &&
                                p.IsActive);

                                if (payment != null)
                                {
                                    return payment.Amount.ToString("C0");
                                }
                            }
                            // Default fallback values
                            return entityType switch
                            {
                                "Company" => paymentType == "Monthly" ? "$15" : "$40",
                                "Driver" => paymentType == "Monthly" ? "$10" : "$25",
                                "Advertiser" => paymentType == "Monthly" ? "$15" : "$40",
                                _ => "$0"
                            };
                        }
                    }

                    <tr>
                        <td class="fw-bold text-start">
                            <i class="fas fa-building me-2 text-warning"></i>Company Registration
                        </td>
                        <td>
                            <span class="badge bg-warning text-black fs-6 p-2">
                                @GetPrice("Company", "Monthly")/month
                            </span>
                        </td>
                        <td>
                            <span class="badge bg-warning text-black fs-6 p-2">
                                @GetPrice("Company", "Quarterly")/quarter
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="fw-bold text-start">
                            <i class="fas fa-user-tie me-2 text-warning"></i>Driver Registration
                        </td>
                        <td>
                            <span class="badge bg-warning text-black fs-6 p-2">
                                @GetPrice("Driver", "Monthly")/month
                            </span>
                        </td>
                        <td>
                            <span class="badge bg-warning text-black fs-6 p-2">
                                @GetPrice("Driver", "Quarterly")/quarter
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="fw-bold text-start">
                            <i class="fas fa-bullhorn me-2 text-warning"></i>Advertisement
                        </td>
                        <td>
                            <span class="badge bg-warning text-black fs-6 p-2">
                                @GetPrice("Advertiser", "Monthly")/month
                            </span>
                        </td>
                        <td>
                            <span class="badge bg-warning text-black fs-6 p-2">
                                @GetPrice("Advertiser", "Quarterly")/quarter
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="text-center mt-4">
            <p class="text-muted mb-3">
                All payments include listing maintenance and customer support.
            </p>
            <a href="@Url.Action("Services", "User")" class="btn btn-outline-warning">
                <i class="fas fa-info-circle me-2"></i>Learn More About Services
            </a>
        </div>
    </div>
</section>

<!-- FAQs Section -->
<section class="faq-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold text-black">Frequently Asked Questions</h2>
            <p class="lead text-muted">Find answers to common questions</p>
        </div>

        <div class="accordion" id="faqAccordion">
            @if (ViewBag.FAQs != null)
            {
                var faqIndex = 0;
                @foreach (var faq in ViewBag.FAQs)
                {
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faqHeading@(faqIndex)">
                            <button class="accordion-button @(faqIndex > 0 ? "collapsed" : "")"
                                    type="button" data-bs-toggle="collapse"
                                    data-bs-target="#faqCollapse@(faqIndex)"
                                    aria-expanded="@(faqIndex == 0 ? "true" : "false")"
                                    aria-controls="faqCollapse@(faqIndex)">
                                @faq.Question
                            </button>
                        </h2>
                        <div id="faqCollapse@(faqIndex)"
                             class="accordion-collapse collapse @(faqIndex == 0 ? "show" : "")"
                             aria-labelledby="faqHeading@(faqIndex)"
                             data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                @faq.Answer
                            </div>
                        </div>
                    </div>
                    faqIndex++;
                }
            }
            else
            {
                <div class="accordion-item">
                    <h2 class="accordion-header" id="faqHeading1">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                data-bs-target="#faqCollapse1" aria-expanded="true"
                                aria-controls="faqCollapse1">
                            How do I register my company on RadioCab?
                        </button>
                    </h2>
                    <div id="faqCollapse1" class="accordion-collapse collapse show"
                         aria-labelledby="faqHeading1" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            You can register your company by clicking on the "Register" button in the navigation bar
                            and selecting "Company Registration". Fill in all required details and choose your membership plan.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="faqHeading2">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#faqCollapse2" aria-expanded="false"
                                aria-controls="faqCollapse2">
                            What are the payment options available?
                        </button>
                    </h2>
                    <div id="faqCollapse2" class="accordion-collapse collapse"
                         aria-labelledby="faqHeading2" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            We offer both monthly and quarterly payment plans for company registration, driver registration,
                            and advertisement services. You can pay online through our secure payment gateway.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="faqHeading3">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#faqCollapse3" aria-expanded="false"
                                aria-controls="faqCollapse3">
                            How long does approval take?
                        </button>
                    </h2>
                    <div id="faqCollapse3" class="accordion-collapse collapse"
                         aria-labelledby="faqHeading3" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Approval typically takes 24-48 hours after submission. Premium members get priority approval
                            within 12 hours. You will receive an email notification once your registration is approved.
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="text-center mt-4">
            <a href="@Url.Action("Contact", "User")" class="btn btn-outline-warning">
                <i class="fas fa-question-circle me-2"></i>Still have questions? Contact Us
            </a>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5 bg-black text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-3">
                    Start Your Journey with <span class="text-warning">RadioCab</span>
                </h2>
                <p class="lead mb-0">
                    Join thousands of companies and drivers already using our platform.
                    Register today and grow your transportation business.
                </p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <div class="d-flex gap-3 justify-content-lg-end">
                    <a href="@Url.Action("CompanyRegister", "Account", new { type = "company" })"
                       class="btn btn-warning btn-lg">
                        <i class="fas fa-building me-2"></i>Register Company
                    </a>
                    <a href="@Url.Action("DriverRegister", "Account", new { type = "driver" })"
                       class="btn btn-outline-warning btn-lg">
                        <i class="fas fa-user-tie me-2"></i>Register as Driver
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>